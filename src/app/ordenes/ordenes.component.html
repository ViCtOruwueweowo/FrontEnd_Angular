<app-navbar></app-navbar>
<br>
<div class="container">
<form action="">

    <div class="form-floating mb-3" >
      <input type="text" class="form-control" value="1" [(ngModel)]="orders.state_id">
      <label for="floatingInput">state</label>
    </div>

    <div class="form-floating mb-3" >
      <input type="text" class="form-control" value="1" [(ngModel)]="orders.shipper_id">
      <label for="floatingInput">state</label>
    </div>
    <div class="d-grid gap-2">
  <button type="button" class="btn btn-primary" (click)="createOrder()">
    Realizar Compra 
  </button>
</div>
</form>
<div class="accordion" id="accordionExample" *ngFor="let item of orderList; let i = index">
  <div class="accordion-item">
    <h2 class="accordion-header">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a"
        aria-expanded="false" aria-controls="collapseTwo" >
        {{item.user_name}}
      </button>
    </h2>
    <div id="a" class="accordion-collapse collapse" >
      <div class="accordion-body">
          <div *ngFor="let item of orderList; let i = index">
            <!-- Ordenes Normales -->
            <h6 class="text-center">Detalles Basicos</h6>
            <hr>
            <table class="table text-center">
              <tbody>
                <tr>
                  <td>Repartidor: {{item.shipper_name}}</td>
                  <td>Estado: {{item.state}}</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div>
            <h6 class="text-center">Detalles De Compra</h6>
            <hr>
            <div>
              <table class="table text-center">
                <tbody>
                  @for (item of orderdList;track $index){
                  <tr>
                    <td>Juego: {{item.videogame_name}}</td>
                    <td>Cantidad: {{item.quantity}}</td>
                    <td>Precio Total: {{item.totalPrice}}</td>
                  </tr>
                }
                </tbody>
              </table>
            </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
